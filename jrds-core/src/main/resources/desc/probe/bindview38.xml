<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE probedesc PUBLIC "-//jrds//DTD Probe Description//EN" "urn:jrds:probedesc">
<probedesc>
    <name>Bind38XmlView</name>
    <probeName>bind${attr.view}</probeName>
    <probeClass>jrds.probe.HttpXml</probeClass>
    <customattr name="view"/>
    <specific name="startTimePath">/statistics/server/boot-time</specific>
    <specific name="currentTimePath">/statistics/server/current-time</specific>
    <specific name="timePattern">yyyy-MM-dd'T'HH:mm:ss.SSS'Z'</specific>
    <defaultargs>
        <attr name="port">8053</attr>
        <attr name="view">_default</attr>
    </defaultargs>

    <!-- cache info -->
    <ds>
        <dsName>cache.a</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="A"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.ns</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="NS"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.cname</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="CNAME"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.ptr</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="PTR"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.aaaa</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="AAAA"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.ds</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="DS"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.rrsig</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="RRSIG"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.nsec</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="NSEC"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.nota</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="!A"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.notaaa</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="!AAAA"]/counter</collect>
    </ds>
    <ds>
        <dsName>cache.nxdomain</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/cache/rrset[name="NXDOMAIN"]/counter</collect>
    </ds>

    <!-- Outgoing Queries -->
    <ds>
        <dsName>q.out.a</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counters[@type="resqtype"]/counter[@name="A"]</collect>
    </ds>
    <ds>
        <dsName>q.out.ptr</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counters[@type="resqtype"]/counter[@name="PTR"]</collect>
    </ds>
    <ds>
        <dsName>q.out.ns</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counters[@type="resqtype"]/counter[@name="NS"]</collect>
    </ds>
    <ds>
        <dsName>q.out.aaaa</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counters[@type="resqtype"]/counter[@name="AAAA"]</collect>
    </ds>
    <ds>
        <dsName>q.out.aaaa</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counters[@type="resqtype"]/counter[@name="Others"]</collect>
    </ds>

    <ds>
        <dsName>resstat.A</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/rdtype[name="A"]/counter</collect>
    </ds>
    <ds>
        <dsName>rsc.NS</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/rdtype[name="NS"]/counter</collect>
    </ds>
    <ds>
        <dsName>rsc.PTR</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/rdtype[name="PTR"]/counter</collect>
    </ds>
    <ds>
        <dsName>rsc.TXT</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/rdtype[name="TXT"]/counter</collect>
    </ds>
    <ds>
        <dsName>rsc.AAAA</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/rdtype[name="AAAA"]/counter</collect>
    </ds>

    <!-- Resolver Statistics Counters -->
    <ds>
        <dsName>resstat.Queryv4</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Queryv4"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Queryv6</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Queryv6"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Responsev4</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Responsev4"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Responsev6</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Responsev6"]</collect>
    </ds>
    <ds>
        <dsName>resstat.NXDOMAIN</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="NXDOMAIN"]</collect>
    </ds>
    <ds>
        <dsName>resstat.SERVFAIL</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="SERVFAIL"]</collect>
    </ds>
    <ds>
        <dsName>resstat.FORMERR</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="FORMERR"]</collect>
    </ds>
    <ds>
        <dsName>resstat.OtherError</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="OtherError"]</collect>
    </ds>
    <ds>
        <dsName>resstat.EDNS0Fail</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="EDNS0Fail"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Mismatch</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Mismatch"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Truncated</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Truncated"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Lame</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Lame"]</collect>
    </ds>
    <ds>
        <dsName>resstat.Retry</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="Retry"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QAbort</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QueryAbort"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QSockFail</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QuerySockFail"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QueryCurUDP</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QueryCurUDP"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QueryCurTCP</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QueryCurTCP"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QTimeout</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QueryTimeout"]</collect>
    </ds>
    <ds>
        <dsName>resstat.GFv4</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="GlueFetchv4"]</collect>
    </ds>
    <ds>
        <dsName>resstat.GFv6</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="GlueFetchv6"]</collect>
    </ds>
    <ds>
        <dsName>resstat.GFv4Fail</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="GlueFetchv4Fail"]</collect>
    </ds>
    <ds>
        <dsName>resstat.GFv6Fail</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="GlueFetchv6Fail"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ValAttempt</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ValAttempt"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ValOk</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ValOk"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ValNegOk</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ValNegOk"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ValFail</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ValFail"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT10</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT10"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT100</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT100"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT500</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT500"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT800</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT800"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT1600</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT1600"]</collect>
    </ds>
    <ds>
        <dsName>resstat.QryRTT1600+</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="QryRTT1600+"]</collect>
    </ds>
    <ds>
        <dsName>resstat.NumFetch</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="NumFetch"]</collect>
    </ds>
    <ds>
        <dsName>resstat.BucketSize</dsName>
        <dsType>gauge</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="BucketSize"]</collect>
    </ds>
    <ds>
        <dsName>resstat.REFUSED</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="REFUSED"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ClientCookieOut</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ClientCookieOut"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ServerCookieOut</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ServerCookieOut"]</collect>
    </ds>
    <ds>
        <dsName>resstat.CookieIn</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="CookieIn"]</collect>
    </ds>
    <ds>
        <dsName>resstat.CookieClientOk</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="CookieClientOk"]</collect>
    </ds>
    <ds>
        <dsName>resstat.BadEDNSVersion</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="BadEDNSVersion"]</collect>
    </ds>
    <ds>
        <dsName>resstat.BadCookieRcode</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="BadCookieRcode"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ZoneQuota</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ZoneQuota"]</collect>
    </ds>
    <ds>
        <dsName>resstat.ServerQuota</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="ServerQuota"]</collect>
    </ds>
    <ds>
        <dsName>resstat.NextItem</dsName>
        <dsType>counter</dsType>
        <collect>/statistics/views/view[@name="${attr.view}"]/counter[@type="resstats"]/counter[@name="NextItem"]</collect>
    </ds>
    <graphs>
        <name>BindCache</name>
    </graphs>
</probedesc>